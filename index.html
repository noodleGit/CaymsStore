<!DOCTYPE html>
<html lang="en" class="sakura">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAYMâ€™S STORE Calc</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        theme: {
                            50: 'var(--color-50)',
                            100: 'var(--color-100)',
                            500: 'var(--color-500)',
                            600: 'var(--color-600)',
                            700: 'var(--color-700)',
                            900: 'var(--color-900)',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* --- Themes Variables --- */
        :root {
            --bg-image: radial-gradient(var(--color-300) 1px, transparent 1px);
        }
        
        /* Sakura (Pink) */
        .sakura {
            --bg-color: #fff0f5;
            --color-50: #fff0f5;
            --color-100: #ffe4e1;
            --color-300: #ffb7c5;
            --color-500: #ff69b4;
            --color-600: #db2777;
            --color-700: #c71585;
            --color-900: #8b0a50;
        }

        /* Ocean (Blue) */
        .ocean {
            --bg-color: #f0f9ff;
            --color-50: #f0f9ff;
            --color-100: #e0f2fe;
            --color-300: #7dd3fc;
            --color-500: #0ea5e9;
            --color-600: #0284c7;
            --color-700: #0369a1;
            --color-900: #0c4a6e;
        }

        /* Midnight (Dark/Purple) */
        .midnight {
            --bg-color: #0f172a;
            --color-50: #1e293b;
            --color-100: #334155;
            --color-300: #64748b;
            --color-500: #818cf8;
            --color-600: #6366f1;
            --color-700: #4f46e5;
            --color-900: #312e81;
            color: #f8fafc;
        }

        /* Sunset (Orange) */
        .sunset {
            --bg-color: #fff7ed;
            --color-50: #fff7ed;
            --color-100: #ffedd5;
            --color-300: #fdba74;
            --color-500: #f97316;
            --color-600: #ea580c;
            --color-700: #c2410c;
            --color-900: #7c2d12;
        }

        body {
            background-color: var(--bg-color);
            background-image: var(--bg-image);
            background-size: 20px 20px;
            transition: all 0.5s ease;
        }

        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .midnight .glass {
            background: rgba(30, 41, 59, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
        }

        /* Input overrides for dark themes */
        .midnight input {
            background-color: #1e293b;
            color: white;
            border-color: #475569;
        }

        /* Single Line Table */
        td, th { white-space: nowrap; }
    </style>
</head>
<body class="text-gray-800 min-h-screen font-sans selection:bg-theme-500 selection:text-white pb-20">

    <nav class="w-full p-4 glass sticky top-0 z-50 shadow-sm border-b border-theme-100 transition-colors">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-black text-theme-700 flex items-center gap-2 tracking-tight">
                <i class="fa-solid fa-store"></i>
                CAYMâ€™S STORE
            </h1>
            
            <div class="flex gap-1 bg-white/50 p-1 rounded-full shadow-sm">
                <button onclick="setTheme('sakura')" class="w-6 h-6 rounded-full bg-pink-400 border-2 border-white hover:scale-110 transition" title="Sakura"></button>
                <button onclick="setTheme('ocean')" class="w-6 h-6 rounded-full bg-sky-400 border-2 border-white hover:scale-110 transition" title="Ocean"></button>
                <button onclick="setTheme('sunset')" class="w-6 h-6 rounded-full bg-orange-400 border-2 border-white hover:scale-110 transition" title="Sunset"></button>
                <button onclick="setTheme('midnight')" class="w-6 h-6 rounded-full bg-slate-800 border-2 border-white hover:scale-110 transition" title="Midnight"></button>
            </div>
        </div>
    </nav>

    <main class="max-w-4xl mx-auto p-4 md:p-6">
        
        <div class="glass rounded-3xl p-6 shadow-xl shadow-theme-100/50 mb-6 transition-all">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-xs font-bold uppercase tracking-wider text-theme-700 mb-1">
                        1000 Coins Cost (MMK)
                    </label>
                    <div class="relative group">
                        <span class="absolute left-3 top-2.5 text-theme-500 font-bold">K</span>
                        <input type="number" id="coinPrice" value="5000" 
                            class="w-full pl-8 pr-4 py-2 rounded-xl bg-white border border-theme-100 focus:border-theme-500 focus:ring-2 focus:ring-theme-100 outline-none transition font-bold text-lg"
                            placeholder="5000">
                    </div>
                </div>

                <div>
                    <label class="block text-xs font-bold uppercase tracking-wider text-theme-700 mb-1">
                        Profit Margin (%)
                    </label>
                    <div class="relative group">
                        <span class="absolute right-3 top-2.5 text-theme-500 font-bold">%</span>
                        <input type="number" id="profitMargin" value="10" 
                            class="w-full pl-4 pr-8 py-2 rounded-xl bg-white border border-theme-100 focus:border-theme-500 focus:ring-2 focus:ring-theme-100 outline-none transition font-bold text-lg"
                            placeholder="10">
                    </div>
                </div>
            </div>
        </div>

        <div class="flex p-1 bg-white/50 backdrop-blur rounded-xl mb-4 shadow-sm border border-theme-100/50">
            <button onclick="switchTab('ph')" id="btn-ph" class="flex-1 py-2.5 rounded-lg text-sm font-bold transition-all duration-300">
                ðŸ‡µðŸ‡­ Philippines
            </button>
            <button onclick="switchTab('br')" id="btn-br" class="flex-1 py-2.5 rounded-lg text-sm font-bold transition-all duration-300">
                ðŸ‡§ðŸ‡· Brazil
            </button>
        </div>

        <div class="flex justify-end mb-3">
            <button onclick="copyToClipboard()" class="bg-theme-600 hover:bg-theme-700 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg shadow-theme-500/30 transition flex items-center gap-2">
                <i class="fa-solid fa-copy"></i> Copy Price List
            </button>
        </div>

        <div class="glass rounded-2xl shadow-lg overflow-hidden border border-theme-100/50">
            <div class="overflow-x-auto">
                <table class="w-full text-left">
                    <thead>
                        <tr class="bg-theme-50/80 text-theme-900 text-xs uppercase tracking-wider">
                            <th class="p-4 font-bold border-b border-theme-100">Item</th>
                            <th class="p-4 font-bold border-b border-theme-100 text-right">Coins</th>
                            <th class="p-4 font-bold border-b border-theme-100 text-right opacity-60">Capital</th>
                            <th class="p-4 font-bold border-b border-theme-100 text-right text-theme-700">Selling Price</th>
                        </tr>
                    </thead>
                    <tbody id="table-body" class="text-sm divide-y divide-theme-50">
                        </tbody>
                </table>
            </div>
        </div>
    </main>

    <script>
        // Data Configuration
        const data = {
            ph: [
                { name: "11 Diamonds", coins: 9.5 },
                { name: "22 Diamonds", coins: 19.0 },
                { name: "33 Diamonds", coins: 28.5 },
                { name: "44 Diamonds", coins: 38.0 },
                { name: "56 Diamonds", coins: 47.5 },
                { name: "112 Diamonds", coins: 95.0 },
                { name: "223 Diamonds", coins: 190.0 },
                { name: "279 Diamonds", coins: 237.5 },
                { name: "301 Diamonds", coins: 256.5 },
                { name: "335 Diamonds", coins: 300.0 },
                { name: "336 Diamonds", coins: 285.0 },
                { name: "570 Diamonds", coins: 475.0 },
                { name: "1163 Diamonds", coins: 950.0 },
                { name: "2398 Diamonds", coins: 1900.0 },
                { name: "6042 Diamonds", coins: 4750.0 },
                { name: "Weekly Pass (WP)", coins: 47.45 },
                { name: "Twilight Pack (TWP)", coins: 475.0 }
            ],
            br: [
                { name: "Weekly Pass (WP)", coins: 76.0 },
                { name: "86 Diamonds", coins: 61.5 },
                { name: "172 Diamonds", coins: 122.0 },
                { name: "257 Diamonds", coins: 177.5 },
                { name: "343 Diamonds", coins: 239.0 },
                { name: "344 Diamonds", coins: 244.0 },
                { name: "429 Diamonds", coins: 299.5 },
                { name: "430 Diamonds", coins: 305.5 },
                { name: "514 Diamonds", coins: 355.0 },
                { name: "600 Diamonds", coins: 416.5 },
                { name: "706 Diamonds", coins: 480.0 },
                { name: "792 Diamonds", coins: 541.5 },
                { name: "878 Diamonds", coins: 602.0 },
                { name: "963 Diamonds", coins: 657.5 },
                { name: "1049 Diamonds", coins: 719.0 },
                { name: "1135 Diamonds", coins: 779.5 },
                { name: "1220 Diamonds", coins: 835.0 },
                { name: "1412 Diamonds", coins: 960.0 },
                { name: "1584 Diamonds", coins: 1082.0 },
                { name: "1669 Diamonds", coins: 1137.5 },
                { name: "1755 Diamonds", coins: 1199.0 },
                { name: "2195 Diamonds", coins: 1453.0 },
                { name: "3688 Diamonds", coins: 2424.0 },
                { name: "5532 Diamonds", coins: 3660.0 },
                { name: "9288 Diamonds", coins: 6079.0 },
                { name: "Twilight Pack (TWP)", coins: 402.5 },
                { name: "Super Value Pass (SVP)", coins: 39 },
                { name: "Limited Value Pack (MVP)", coins: 12 },
                { name: "Double 50 (B50)", coins: 39 },
                { name: "Double 150 (B150)", coins: 116.9 },
                { name: "Double 250 (B250)", coins: 187.5 },
                { name: "Double 500 (B500)", coins: 385.0 },
            ]
        };

        let currentRegion = 'ph';
        let currentCalculatedPrices = [];

        // DOM Elements
        const coinPriceInput = document.getElementById('coinPrice');
        const profitMarginInput = document.getElementById('profitMargin');
        const tableBody = document.getElementById('table-body');
        const btnPh = document.getElementById('btn-ph');
        const btnBr = document.getElementById('btn-br');

        // Init
        renderTable();
        
        // Listeners
        coinPriceInput.addEventListener('input', renderTable);
        profitMarginInput.addEventListener('input', renderTable);

        // Theme Switcher
        function setTheme(themeName) {
            document.documentElement.className = themeName;
            // Save preference locally if needed
            // localStorage.setItem('theme', themeName);
        }

        // Tab Switcher
        function switchTab(region) {
            currentRegion = region;
            renderTable();
        }

        // Render Logic
        function renderTable() {
            // Update Tab Styles
            if (currentRegion === 'ph') {
                btnPh.className = "flex-1 py-2.5 rounded-lg text-sm font-bold shadow-md bg-theme-500 text-white transform scale-100 border border-theme-600";
                btnBr.className = "flex-1 py-2.5 rounded-lg text-sm font-bold text-gray-500 hover:bg-theme-50 transition";
            } else {
                btnBr.className = "flex-1 py-2.5 rounded-lg text-sm font-bold shadow-md bg-theme-500 text-white transform scale-100 border border-theme-600";
                btnPh.className = "flex-1 py-2.5 rounded-lg text-sm font-bold text-gray-500 hover:bg-theme-50 transition";
            }

            const mmkPer1000 = parseFloat(coinPriceInput.value) || 0;
            const profitPercent = parseFloat(profitMarginInput.value) || 0;
            const coinRate = mmkPer1000 / 1000;
            
            const items = data[currentRegion];
            currentCalculatedPrices = []; // Reset for copy function
            
            tableBody.innerHTML = items.map(item => {
                const baseCost = item.coins * coinRate;
                const sellingPrice = baseCost * (1 + (profitPercent / 100));
                
                // Save for copy function
                currentCalculatedPrices.push({
                    name: item.name,
                    price: formatCurrency(sellingPrice)
                });

                return `
                    <tr class="group hover:bg-theme-50 transition-colors duration-200">
                        <td class="p-4 font-semibold text-gray-700 dark:text-gray-200 group-hover:text-theme-700">
                            ${item.name}
                        </td>
                        <td class="p-4 text-right text-gray-500 font-mono text-xs">
                            $${item.coins}
                        </td>
                        <td class="p-4 text-right opacity-60 font-mono text-xs">
                            ${formatCurrency(baseCost)}
                        </td>
                        <td class="p-4 text-right font-bold text-theme-600 text-lg font-mono">
                            ${formatCurrency(sellingPrice)}
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // Copy Function
        function copyToClipboard() {
            let textToCopy = `ðŸ’Ž CAYMâ€™S STORE PRICE LIST ðŸ’Ž\n\n`;
            
            currentCalculatedPrices.forEach(item => {
                textToCopy += `${item.name} : ${item.price}\n`;
            });

            textToCopy += `\nThank you for purchasing!`;

            navigator.clipboard.writeText(textToCopy).then(() => {
                alert("âœ… Price list copied to clipboard!");
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        }

        function formatCurrency(num) {
            // Round to nearest 10 or 50 if you prefer, currently standard rounding
            return Math.round(num).toLocaleString('en-US') + " MMK";
        }
    </script>
</body>
</html>
